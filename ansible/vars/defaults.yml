# Copyright 2019 Intel Corporation. All rights reserved.
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
---
base_path: "{{ '.' | realpath }}"
repo_path: "{{ '../' | realpath }}"
ansible_params: ""

#####################################
# OS setup
#####################################

os_base_packages: "nano,mc,dstat,jq,vim-common,curl,yum-utils,python-pip,wget,bridge-utils,device-mapper-persistent-data,lvm2,git,moreutils,gcc,python-devel"
os_epel_repository_package_link: "https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm"
os_mysql_repository_package_link: "https://dev.mysql.com/get/mysql57-community-release-el7-11.noarch.rpm"
os_mysql_client_package: "mysql-community-client"
docker_repo_file: "https://download.docker.com/linux/centos/docker-ce.repo"
docker_repo_gpg_file: "https://download.docker.com/linux/centos/gpg"
docker_legacy_packages: "docker,docker-client,docker-client-latest,docker-common,docker-latest,docker-latest-logrotate,docker-logrotate,docker-engine"
docker_packages: "docker-ce,docker-ce-cli,containerd.io"
kubernetes_base_packages: "kubelet-1.16.2,kubeadm-1.16.2,kubectl-1.16.2"
kubernetes_legacy_packages: "kubelet,kubeadm,kubectl"
flannel_mode_config_link: "https://raw.githubusercontent.com/coreos/flannel/62e44c867a2846fefb68bd5f178daf4da3095ccb/Documentation/kube-flannel.yml"
kubeovn_version: v0.8.0
kubeovn_mode_crd_link: "https://raw.githubusercontent.com/alauda/kube-ovn/{{ kubeovn_version }}/yamls/crd.yaml"
kubeovn_components_link: "https://raw.githubusercontent.com/alauda/kube-ovn/{{ kubeovn_version }}/yamls/ovn.yaml"
kubeovn_cni_plugins_link: "https://raw.githubusercontent.com/alauda/kube-ovn/{{ kubeovn_version }}/yamls/kube-ovn.yaml"
ovn_packages_url:
  - "https://github.com/alauda/ovs/releases/download/v2.11.4-1/openvswitch-2.11.4-1.el7.x86_64.rpm"
  - "https://github.com/alauda/ovs/releases/download/v2.11.4-1/ovn-2.11.4-1.el7.x86_64.rpm"
  - "https://github.com/alauda/ovs/releases/download/v2.11.4-1/ovn-common-2.11.4-1.el7.x86_64.rpm"
ovn_packages_yum:
  - "unbound"
ovn_legacy_packages: "openvswitch,ovn,ovn-common,unbound"
kubeovn_nfd_master_plugin_link: "https://raw.githubusercontent.com/kubernetes-sigs/node-feature-discovery/v0.4.0/nfd-master.yaml.template"
kubeovn_nfd_worker_plugin_link: "https://raw.githubusercontent.com/kubernetes-sigs/node-feature-discovery/v0.4.0/nfd-worker-daemonset.yaml.template"

#####################################
# Proxy setting for OS and Docker
#####################################

proxy_enable: false
proxy_http: "http://1.2.3.4:911"
proxy_https: "http://1.2.3.4:911"
proxy_ftp: "http://1.2.3.4:911"
proxy_yum: "http://1.2.3.4:911"
proxy_noproxy: "localhost,127.0.0.1,10.244.0.0/16,10.96.0.0/24"

#####################################
# Deploy
#####################################

# Deploy config/mode - refer to .env file in <controller> repository for parameters descriptions
CONTROLLER_IP: ""
# Deploy mode, possible values: native, kubernetes, kubernetes-ovn
CCE_ORCHESTRATION_MODE: "native"
CCE_LOG_LEVEL: "debug"
MYSQL_ROOT_PASSWORD: "pass"
CCE_ADMIN_PASSWORD: "pass"
REACT_APP_CONTROLLER_API: "http://{{ CONTROLLER_IP }}:8080"
REACT_APP_CUPS_API: "http://{{ CONTROLLER_IP }}:8080"
GITHUB_TOKEN: ""

# Kubernetes-ovn settings
CCE_K8S_MASTER_HOST: "{{ CONTROLLER_IP }}:6443"
CCE_K8S_MASTER_USER: "root"
CCE_K8S_API_PATH: "/api/v1"
CCE_K8S_CLIENT_CA_PATH: "/etc/kubernetes-certs/client-ca.pem"
CCE_K8S_CLIENT_CERT_PATH: "/etc/kubernetes-certs/client-cert.pem"
CCE_K8S_CLIENT_KEY_PATH: "/etc/kubernetes-certs/client-key.pem"

# Kubernetes plugins
# Multus CNI
multus_cni_url: "https://github.com/intel/multus-cni"
multus_cni_downloaddir : "/temp/multus_cni"
multus_cni_commit: "3fbfe40e12fd79f18efae1417845416ae8d501a6"

# SRIOV CNI and device plugin
sriov_cni_url: "https://github.com/intel/sriov-cni"
sriov_cni_downloaddir : "/temp/sriov_cni"
sriov_cni_commit: "c9e13c3643e4f7b5b4cd5169a8879ed894b1a07a"
sriov_cni_patch_path: "{{ repo_path }}/vc/sriov-cni-1.16.patch"

sriov_dev_plugin_url: "https://github.com/intel/sriov-network-device-plugin"
sriov_dev_plugin_downloaddir: "/temp/sriov_dev_plugin"
sriov_config_map_path: "{{ repo_path }}/sriov/configMap.yaml"
sriov:
  enabled: false

# VC device plugin (patched SRIOV)
vc_fec_dev_plugin_commit: "bf28fdc3e2d9dd2edcc4f0bceb58448ac9317696"
vc_fec_patch_path: "{{ repo_path }}/vc/VC_FEC_SRIOV_DEV_PLUGIN_CTRL.patch"
vc_fec_config_map_path: "{{ repo_path }}/vc/configMap.yaml"
vc_fec:
  enabled: false

# NFD plugin
nfd_enabled: false